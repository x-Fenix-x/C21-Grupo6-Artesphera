<!DOCTYPE html>
<html lang="en">
	<%- include('partials/head',{ title : "Artesphera | Edición producto"}) %>
	<link rel="stylesheet" href="/dist/output.css" />
	<body>
		<main class="min-h-screen flex flex-col">
			<%- include('partials/header') %>
			<section
				class="flex-1 flex flex-col items-center justify-center gap-60 bg-[url('/images/loginWallpaper.png')] bg-auto bg-repeat sm:gap-0 lg:bg-center"
			>
				<article
					class="flex flex-col w-full bg-white sm:max-w-6xl p-8 text-base"
				>
					<div
						class="grid grid-cols-1 lg:grid-cols-2 lg:min-h-[77.5vh] min-h-screen gap-12"
					>
						<form
							action="/products/update/<%= product.id %>?_method=PUT"
							method="POST"
							class="flex flex-col justify-center gap-12"
						>
							<p class="text-3xl font-bold">Editar producto</p>
							<div>
								<div class="flex flex-col">
									<label for="title" class="font-medium">Título</label>
									<input
										type="text"
										id="title"
										name="title"
										required
										class="p-3 bg-gray-100 text-sm"
										placeholder="Título del producto "
										value="<%= product.title %>"
									/>
								</div>
								<div class="flex flex-col">
									<label for="category" class="font-medium">Categoría</label>
									<select
										name="category"
										id="category"
										class="p-3 text-sm bg-gray-100"
										required
									>
										<option value="" disabled>Elige una opción</option>
										<% categories.forEach(item => { %> <option <%= item.name ===
										product.category && "selected" %> value="<%= item.name
										%>"><%= item.name %> <% }) %>
									</select>
								</div>
								<div class="flex flex-col">
									<label for="price" class="font-medium">Precio</label>
									<input
										type="number"
										id="price"
										name="price"
										required
										class="p-3 bg-gray-100 text-sm"
										placeholder="Ejemplo: 99.99"
										value="<%= product.price %>"
									/>
								</div>
								<div class="flex flex-col">
									<label for="discount" class="font-medium">Descuento</label>
									<input
										type="number"
										id="discount"
										name="discount"
										required
										class="p-3 bg-gray-100 text-sm"
										placeholder="Descuento en porcentaje"
										value="<%= product.discount %>"
									/>
								</div>
								<div class="flex flex-col">
									<label for="stock" class="font-medium">Stock</label>
									<input
										type="number"
										id="stock"
										name="stock"
										required
										class="p-3 bg-gray-100 text-sm"
										placeholder="Cantidad disponible"
										value="<%= product.stock %>"
									/>
								</div>
								<div class="flex flex-col">
									<label for="image_type" class="font-medium">Imagen</label>
									<select id="image_type" name="image_type" class="p-3 text-sm bg-gray-100">
										<option value="" disabled selected>Elige una opción de carga</option>
										<option value="single">Cargar una imagen</option>
										<option value="multiple">Cargar varias imágenes</option>
									</select>
								</div>
								
								<div id="one_image" class="flex flex-col" hidden>
									<label for="image">Imagen:</label>
									<input type="file" id="image" name="image" accept="image/*" />
								</div>
								
								<div id="multiple_images" class="flex flex-col" hidden>
									<label for="images">Imágenes:</label>
									<input type="file" id="images" name="images" accept="image/*" multiple  />
								</div>
								<div class="flex flex-col">
									<label for="description">Descripción:</label>
									<textarea
										id="description"
										name="description"
										rows="4"
										cols="50"
										required
										class="bg-gray-100 p-2"
									>
<%= product.description %></textarea
									>
								</div>
							</div>
							<button
								type="submit"
								class="font-bold py-4 text-[#5e4a2d] bg-[#d0ad7a] hover:bg-[#3d3220] hover:text-[#967c57] transition-all ease-in-out rounded-full"
							>
								Guardar Cambios
							</button>
						</form>
						<%- include('partials/table') %>
						<%- include('partials/script') %>
					</div>
				</article>
			</section>
		</main>
	</body>
</html>
